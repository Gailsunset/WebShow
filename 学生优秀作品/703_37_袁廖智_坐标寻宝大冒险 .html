<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åæ ‡å¯»å®å¤§å†’é™©</title>
    <style>
        body {
            font-family: 'å¾®è½¯é›…é»‘', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .game-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 800px;
            width: 100%;
        }
        
        h1 {
            color: #4a5568;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        
        .start-screen, .end-screen {
            padding: 40px;
        }
        
        .game-screen {
            display: none;
        }
        
        .coordinate-system {
            position: relative;
            width: 600px;
            height: 500px;
            margin: 20px auto;
            border: 3px solid #2d3748;
            background: #f7fafc;
            border-radius: 10px;
        }
        
        .axis {
            position: absolute;
            background: #2d3748;
        }
        
        .x-axis {
            bottom: 0;
            left: 50px;
            width: 500px;
            height: 3px;
        }
        
        .y-axis {
            left: 0;
            top: 50px;
            width: 3px;
            height: 400px;
        }
        
        .grid-line {
            position: absolute;
            background: #e2e8f0;
        }
        
        .grid-line.horizontal {
            width: 500px;
            height: 1px;
            left: 50px;
        }
        
        .grid-line.vertical {
            width: 1px;
            height: 400px;
            top: 50px;
        }
        
        .coordinate-label {
            position: absolute;
            font-size: 12px;
            font-weight: bold;
            color: #4a5568;
        }
        
        .x-label {
            bottom: -20px;
            left: -8px;
        }
        
        .y-label {
            left: -15px;
            top: -15px;
        }
        
        .treasure {
            position: absolute;
            width: 30px;
            height: 30px;
            background: #ffd700;
            border: 3px solid #ff6b35;
            border-radius: 50%;
            cursor: pointer;
            transform: translate(-50%, -50%);
            animation: sparkle 2s infinite;
            z-index: 10;
        }
        
        @keyframes sparkle {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
        }
        
        .click-area {
            position: absolute;
            width: 40px;
            height: 40px;
            border: 2px dashed transparent;
            border-radius: 50%;
            cursor: pointer;
            transform: translate(-50%, -50%);
            transition: all 0.2s;
        }
        
        .click-area:hover {
            border-color: #4299e1;
            background: rgba(66, 153, 225, 0.1);
        }
        
        .hint-box {
            background: #e6fffa;
            border: 2px solid #38b2ac;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-size: 18px;
            font-weight: bold;
            color: #2d3748;
        }
        
        .feedback {
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
        }
        
        .feedback.correct {
            background: #c6f6d5;
            color: #22543d;
            border: 2px solid #38a169;
        }
        
        .feedback.incorrect {
            background: #fed7d7;
            color: #742a2a;
            border: 2px solid #e53e3e;
        }
        
        .button {
            background: #4299e1;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px;
            transition: background 0.3s;
        }
        
        .button:hover {
            background: #3182ce;
        }
        
        .button.secondary {
            background: #ed8936;
        }
        
        .button.secondary:hover {
            background: #dd6b20;
        }
        
        .score {
            font-size: 20px;
            font-weight: bold;
            color: #4a5568;
            margin: 20px 0;
        }
        
        .coordinates-display {
            font-size: 16px;
            color: #4a5568;
            margin: 10px 0;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ğŸ—ºï¸ åæ ‡å¯»å®å¤§å†’é™© ğŸ—ºï¸</h1>
        
        <!-- å¼€å§‹ç•Œé¢ -->
        <div class="start-screen" id="startScreen">
            <p style="font-size: 18px; color: #4a5568; line-height: 1.6;">
                æ¬¢è¿æ¥åˆ°åæ ‡å¯»å®ä¸–ç•Œï¼<br>
                åœ¨è¿™ä¸ªæœ‰è¶£çš„æ¸¸æˆä¸­ï¼Œä½ éœ€è¦æ ¹æ®ç»™å‡ºçš„åæ ‡æç¤ºï¼Œ<br>
                åœ¨åæ ‡ç³»ä¸­æ‰¾åˆ°éšè—çš„å®è—ï¼<br>
                é€šè¿‡æ¸¸æˆæ¥å­¦ä¹ åæ ‡çŸ¥è¯†ï¼Œè®©æ•°å­¦å˜å¾—æ›´æœ‰è¶£ï¼
            </p>
            <button class="button" onclick="startGame()">ğŸš€ å¼€å§‹æ¸¸æˆ</button>
        </div>
        
        <!-- æ¸¸æˆç•Œé¢ -->
        <div class="game-screen" id="gameScreen">
            <div class="score">ğŸ† å·²æ‰¾åˆ°å®è—: <span id="scoreCount">0</span> ä¸ª</div>
            
            <div class="hint-box">
                ğŸ” å®è—åæ ‡æç¤º: X = <span id="treasureX">?</span>, Y = <span id="treasureY">?</span>
            </div>
            
            <div class="coordinates-display" id="clickCoords">
                ç‚¹å‡»åæ ‡ç³»ä¸Šçš„ä½ç½®æ¥å¯»æ‰¾å®è— (ç‚¹å‡»ä½ç½®ä¼šæ˜¾ç¤ºåæ ‡)
            </div>
            
            <div class="coordinate-system" id="coordinateSystem">
                <div class="axis x-axis"></div>
                <div class="axis y-axis"></div>
            </div>
            
            <div class="feedback" id="feedback" style="display: none;"></div>
            
            <button class="button" onclick="continueGame()">ğŸ¯ ç»§ç»­æŒ‘æˆ˜</button>
            <button class="button secondary" onclick="endGame()">ğŸ ç»“æŸæ¸¸æˆ</button>
        </div>
        
        <!-- ç»“æŸç•Œé¢ -->
        <div class="end-screen" id="endScreen" style="display: none;">
            <h2>ğŸ‰ æ¸¸æˆç»“æŸï¼</h2>
            <div class="score" style="font-size: 24px; color: #2d3748;">
                ğŸ† æ­å–œä½ ï¼æ€»å…±æ‰¾åˆ°äº† <span id="finalScore">0</span> ä¸ªå®è—ï¼
            </div>
            <p style="font-size: 16px; color: #4a5568; margin: 20px 0;">
                ä½ å·²ç»æŒæ¡äº†åæ ‡çš„åŸºæœ¬æ¦‚å¿µï¼<br>
                å¤šå¤šç»ƒä¹ ï¼Œä½ ä¼šè¶Šæ¥è¶Šæ£’çš„ï¼
            </p>
            <button class="button" onclick="restartGame()">ğŸ”„ é‡æ–°å¼€å§‹</button>
        </div>
    </div>

    <script>
        let score = 0;
        let currentTreasureX = 0;
        let currentTreasureY = 0;
        let treasureElement = null;
        let isGameActive = false;

        function startGame() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            document.getElementById('endScreen').style.display = 'none';
            
            initializeGame();
            generateNewTreasure();
        }

        function initializeGame() {
            score = 0;
            updateScore();
            createCoordinateGrid();
            isGameActive = true;
        }

        function createCoordinateGrid() {
            const coordinateSystem = document.getElementById('coordinateSystem');
            
            // æ¸…é™¤ç°æœ‰çš„ç½‘æ ¼çº¿ï¼ˆä¿ç•™åæ ‡è½´ï¼‰
            const existingLines = coordinateSystem.querySelectorAll('.grid-line, .coordinate-label');
            existingLines.forEach(line => line.remove());
            
            // åˆ›å»ºç½‘æ ¼çº¿ (Xè½´: 50-550, æ¯50pxä¸€æ¡çº¿ï¼Œå¯¹åº”åæ ‡1-10)
            for (let i = 1; i <= 10; i++) {
                const x = 50 + (i - 1) * 50; // Xåæ ‡ä½ç½®
                const y = 50 + (i - 1) * 50; // Yåæ ‡ä½ç½®
                
                // æ°´å¹³ç½‘æ ¼çº¿
                const hLine = document.createElement('div');
                hLine.className = 'grid-line horizontal';
                hLine.style.top = y + 'px';
                coordinateSystem.appendChild(hLine);
                
                // å‚ç›´ç½‘æ ¼çº¿
                const vLine = document.createElement('div');
                vLine.className = 'grid-line vertical';
                vLine.style.left = x + 'px';
                coordinateSystem.appendChild(vLine);
                
                // Xè½´åæ ‡æ ‡ç­¾
                if (i <= 10) {
                    const xLabel = document.createElement('div');
                    xLabel.className = 'coordinate-label x-label';
                    xLabel.textContent = i;
                    xLabel.style.left = x + 'px';
                    coordinateSystem.appendChild(xLabel);
                }
                
                // Yè½´åæ ‡æ ‡ç­¾
                if (i <= 10) {
                    const yLabel = document.createElement('div');
                    yLabel.className = 'coordinate-label y-label';
                    yLabel.textContent = i;
                    yLabel.style.top = y + 'px';
                    coordinateSystem.appendChild(yLabel);
                }
            }
        }

        function generateNewTreasure() {
            // ç”Ÿæˆ1-10èŒƒå›´å†…çš„éšæœºåæ ‡
            currentTreasureX = Math.floor(Math.random() * 10) + 1;
            currentTreasureY = Math.floor(Math.random() * 10) + 1;
            
            // æ˜¾ç¤ºåæ ‡æç¤º
            document.getElementById('treasureX').textContent = currentTreasureX;
            document.getElementById('treasureY').textContent = currentTreasureY;
            
            // éšè—ä¹‹å‰çš„åé¦ˆ
            document.getElementById('feedback').style.display = 'none';
            
            // æ¸…é™¤ä¹‹å‰çš„å®è—
            if (treasureElement) {
                treasureElement.remove();
            }
            
            // éšè—ç‚¹å‡»åæ ‡æ˜¾ç¤º
            document.getElementById('clickCoords').textContent = 'ç‚¹å‡»åæ ‡ç³»ä¸Šçš„ä½ç½®æ¥å¯»æ‰¾å®è— (ç‚¹å‡»ä½ç½®ä¼šæ˜¾ç¤ºåæ ‡)';
            
            // åˆ›å»ºå®è—ï¼ˆå…ˆéšè—ï¼Œç­‰ç”¨æˆ·ç‚¹å‡»åå†æ˜¾ç¤ºæˆ–ç»™å‡ºæç¤ºï¼‰
            treasureElement = document.createElement('div');
            treasureElement.className = 'treasure';
            treasureElement.style.display = 'none';
            
            const treasureXPos = 50 + (currentTreasureX - 1) * 50;
            const treasureYPos = 50 + (currentTreasureY - 1) * 50;
            
            treasureElement.style.left = treasureXPos + 'px';
            treasureElement.style.top = treasureYPos + 'px';
            
            document.getElementById('coordinateSystem').appendChild(treasureElement);
        }

        // ä¸ºåæ ‡ç³»æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬
        document.getElementById('coordinateSystem').addEventListener('click', function(e) {
            if (!isGameActive) return;
            
            const rect = this.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const clickY = e.clientY - rect.top;
            
            // è®¡ç®—æœ€è¿‘çš„ç½‘æ ¼ç‚¹
            const gridX = Math.round((clickX - 50) / 50) * 50 + 50;
            const gridY = Math.round((clickY - 50) / 50) * 50 + 50;
            
            // ç¡®ä¿åœ¨æœ‰æ•ˆèŒƒå›´å†…
            if (gridX >= 50 && gridX <= 550 && gridY >= 50 && gridY <= 450) {
                const coordX = Math.round((gridX - 50) / 50) + 1;
                const coordY = Math.round((gridY - 50) / 50) + 1;
                
                // æ˜¾ç¤ºç‚¹å‡»çš„åæ ‡
                document.getElementById('clickCoords').textContent = 
                    `ä½ ç‚¹å‡»çš„ä½ç½®: X = ${coordX}, Y = ${coordY}`;
                
                checkAnswer(coordX, coordY, gridX, gridY);
            }
        });

        function checkAnswer(userX, userY, clickX, clickY) {
            const feedback = document.getElementById('feedback');
            feedback.style.display = 'block';
            
            if (userX === currentTreasureX && userY === currentTreasureY) {
                // æ­£ç¡®ç­”æ¡ˆ
                score++;
                updateScore();
                feedback.className = 'feedback correct';
                feedback.innerHTML = `ğŸ‰ æ­å–œä½ æ‰¾åˆ°äº†å®è—ï¼<br>æ­£ç¡®åæ ‡: X=${userX}, Y=${userY}<br>ä½ çœŸæ£’ï¼`;
                
                // æ˜¾ç¤ºå®è—
                treasureElement.style.display = 'block';
                
                setTimeout(() => {
                    feedback.innerHTML += '<br><br>ç‚¹å‡»"ç»§ç»­æŒ‘æˆ˜"å¯»æ‰¾ä¸‹ä¸€ä¸ªå®è—ï¼';
                }, 2000);
                
            } else {
                // é”™è¯¯ç­”æ¡ˆ
                const xDiff = Math.abs(userX - currentTreasureX);
                const yDiff = Math.abs(userY - currentTreasureY);
                let hint = '';
                
                if (xDiff > 0 || yDiff > 0) {
                    if (xDiff > 0 && yDiff > 0) {
                        hint = `ğŸ¤” å¾ˆæ¥è¿‘äº†ï¼ä½†åæ ‡æœ‰ç‚¹åå·®<br>Xå·®${xDiff}ï¼ŒYå·®${yDiff}<br>å†è¯•è¯•çœ‹ï¼`;
                    } else if (xDiff > 0) {
                        hint = `ğŸ¤” Xåæ ‡ä¸å¯¹å“¦<br>å·®${xDiff}ä¸ªå•ä½<br>å†è¯•è¯•çœ‹ï¼`;
                    } else {
                        hint = `ğŸ¤” Yåæ ‡ä¸å¯¹å“¦<br>å·®${yDiff}ä¸ªå•ä½<br>å†è¯•è¯•çœ‹ï¼`;
                    }
                }
                
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `âŒ è¿™é‡Œæ²¡æœ‰å®è—<br>ä½ é€‰æ‹©: X=${userX}, Y=${userY}<br>${hint}`;
            }
        }

        function continueGame() {
            if (isGameActive) {
                generateNewTreasure();
            }
        }

        function endGame() {
            isGameActive = false;
            document.getElementById('finalScore').textContent = score;
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('endScreen').style.display = 'block';
        }

        function restartGame() {
            document.getElementById('endScreen').style.display = 'none';
            document.getElementById('startScreen').style.display = 'block';
        }

        function updateScore() {
            document.getElementById('scoreCount').textContent = score;
        }
    </script>
</body>
</html>